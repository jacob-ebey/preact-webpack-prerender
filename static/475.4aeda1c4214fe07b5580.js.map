{"version":3,"sources":["webpack://preact-webpack-prerender/./node_modules/classnames/index.js","webpack://preact-webpack-prerender/./src/components/button/styles.module.css?f1a4","webpack://preact-webpack-prerender/./src/components/button/index.jsx","webpack://preact-webpack-prerender/./src/pages/home/index.jsx","webpack://preact-webpack-prerender/./webpack/useStaticResult.js"],"names":[],"mappings":"mHAAA;AAAA;AAAA;AAAA;AAAA,EAOC,YACA,aAEA,MAAa,GAAG,eAEhB,aAGC,UAFc,KAED,EAAG,EAAI,UAAU,OAAQ,KACrC,MAAU,UAAU,GACpB,GAAI,CAAC,EAAK,SAEV,MAAc,MAAO,GAErB,GAAI,IAAY,UAAY,IAAY,SACvC,EAAQ,KAAK,WACH,MAAM,QAAQ,IAAQ,EAAI,QACpC,MAAY,EAAW,MAAM,KAAM,GAC/B,GACH,EAAQ,KAAK,WAEJ,IAAY,SACtB,YAAgB,GACX,EAAO,KAAK,EAAK,IAAQ,EAAI,IAChC,EAAQ,KAAK,GAMjB,MAAO,GAAQ,KAAK,KAGgB,EAAO,QAC3C,GAAW,QAAU,EACrB,EAAO,QAAU,GAGjB,IAAqB,GAAI,aACxB,MAAO,+C,4HC7CV,QAAe,CAAC,OAAS,2B,2RCIV,cAAgB,IAAE,KAAK,SAAU,aAAjB,IAA+B,EAA/B,EAA+B,CAA7B,KAAe,cAC9C,QAAkB,EAElB,MAAO,QAAC,EAAD,GAAW,UAAW,IAAG,SAAe,IAAgB,ICDlD,aACb,SAAS,QAET,WAA0B,eAAS,IAE3B,SAAU,IAAgB,iBAAkB,IAC3C,EACL,MAAO,WAIX,MACE,kBACE,QAAC,KAAD,KAAI,gBAEJ,QAAC,IAAD,KAAG,iBAAe,GAElB,QAAC,IAAD,KAAG,UAAQ,GACX,QAAC,EAAD,CAAQ,QAAS,IAAM,EAAS,EAAQ,IAAK,KAC7C,QAAC,EAAD,CAAQ,QAAS,IAAM,EAAS,EAAQ,IAAK,Q,cC1BnD,MAAQ,UAAS,YAAa,EAAQ,KAOtC,MAAoB,GAQpB,gBACE,UAAmB,MAEjB,EAAc,IACZ,MACA,MAAe,KAGf,MAAI,OAAO,SAAW,aACpB,CACE,MAAO,qBAAuB,aAC9B,mBAAmB,IAEnB,GAAW,GACX,EAAQ,mBAAmB,KAIxB,CACL,QAAS,OACT,WACA,aAKN,GAFA,EAAc,GAAO,EAEjB,EAAU,SACZ,MAAO,GAAU,MAGnB,KAAK,GAAU,SACb,GAAU,QAAU,QAAQ,QAAQ,KAAU,KAAK,GACjD,GAAU,QAAU,OACpB,EAAU,MAAQ,EAClB,EAAU,SAAW,GACrB,EAAO,IAEA,IAET,EAAU,QAAQ,oBAAsB,EACxC,EAAU,QAAQ,iBAAmB,IAGjC,EAAU,QAGlB,EAAgB,OAAS,KACvB,EAAgB,IAGlB,EAAO,QAAU","file":"475.4aeda1c4214fe07b5580.js","sourcesContent":["/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"_1vuPrp15jtKNFtKhYL913J\"};","import { h } from \"preact\";\nimport cn from \"classnames\";\n\nimport styles from \"./styles.module.css\";\n\nexport default function Button({ as = \"button\", className, ...props }) {\n  const Component = as;\n\n  return <Component className={cn(styles.button, className)} {...props} />;\n}\n","import { h, Fragment } from \"preact\";\nimport { useState } from \"preact/hooks\";\nimport { useTitle } from \"hoofd/preact\";\n\nimport useStaticResult from \"preact-webpack-prerender/useStaticResult\";\nimport Button from \"../../components/button\";\n\nexport default function Home() {\n  useTitle(\"Home\");\n\n  const [count, setCount] = useState(0);\n\n  const { hello } = useStaticResult(\"home-page-test\", () => {\n    return {\n      hello: \"World\",\n    };\n  });\n\n  return (\n    <>\n      <h1>Home Page :D</h1>\n\n      <p>Hello static, {hello}</p>\n\n      <p>Count: {count}</p>\n      <Button onClick={() => setCount(count - 1)}>{\"-\"}</Button>\n      <Button onClick={() => setCount(count + 1)}>{\"+\"}</Button>\n    </>\n  );\n}\n","const { useMemo, useState } = require(\"preact/hooks\");\n\n/**\n * @typedef {() => void} UseStaticReloadFunc\n * @typedef {[any, UseStaticReloadFunc]} UseStaticResult\n */\n\nlet staticResults = {};\n\n/**\n * TODO: Document and move to package\n * @param {string} key\n * @param {(path: string) => any} loader\n * @returns {any}\n */\nfunction useStaticResult(key, loader) {\n  const [, update] = useState();\n  const resultRef =\n    staticResults[key] ||\n    (() => {\n      let resolved = false;\n      let value = undefined;\n\n      if (typeof window !== \"undefined\") {\n        if (\n          typeof USE_STATIC_RESULTS !== \"undefined\" &&\n          USE_STATIC_RESULTS[key]\n        ) {\n          resolved = true;\n          value = USE_STATIC_RESULTS[key];\n        }\n      }\n\n      return {\n        promise: undefined,\n        resolved,\n        value,\n      };\n    })();\n  staticResults[key] = resultRef;\n\n  if (resultRef.resolved) {\n    return resultRef.value;\n  }\n\n  if (!resultRef.promise) {\n    resultRef.promise = Promise.resolve(loader()).then((value) => {\n      resultRef.promise = undefined;\n      resultRef.value = value;\n      resultRef.resolved = true;\n      update({});\n\n      return value;\n    });\n    resultRef.promise.useStaticPromiseKey = key;\n    resultRef.promise.useStaticPromise = true;\n  }\n\n  throw resultRef.promise;\n}\n\nuseStaticResult.rewind = () => {\n  staticResults = {};\n};\n\nmodule.exports = useStaticResult;\n"],"sourceRoot":""}